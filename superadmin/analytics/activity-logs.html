<!DOCTYPE html>
<html lang="en" class="h-full">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seller Integration - Activity Logs</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { 'jakarta': ['Plus Jakarta Sans', 'sans-serif'] },
          colors: {
            primary: { 50: '#f0f7ff', 100: '#e0effe', 200: '#bae0fd', 300: '#7cc8fb', 400: '#36aaf5', 500: '#0c8ee6', 600: '#0070c4', 700: '#01599f', 800: '#064b83', 900: '#0b3f6d' },
            surface: { 50: '#fafbfc', 100: '#f4f6f8', 200: '#e9ecef', 300: '#dee2e6' }
          }
        }
      }
    }
  </script>
  <style>
    * {
      font-family: 'Plus Jakarta Sans', sans-serif;
    }

    .sidebar-item:hover {
      background: rgba(12, 142, 230, 0.08);
    }

    .sidebar-item.active {
      background: rgba(12, 142, 230, 0.12);
      color: #0c8ee6;
    }

    .dropdown-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .dropdown-content.open {
      max-height: 600px;
    }

    ::-webkit-scrollbar {
      width: 5px;
      height: 5px;
    }

    ::-webkit-scrollbar-track {
      background: #f4f6f8;
    }

    ::-webkit-scrollbar-thumb {
      background: #c9d0d8;
      border-radius: 10px;
    }

    .table-row:hover {
      background: #f0f7ff;
      cursor: pointer;
    }

    .modal-overlay {
      backdrop-filter: blur(3px);
    }
  </style>
</head>

<body class="h-full bg-surface-100">
  <div class="flex h-full">

    <aside
      class="w-72 bg-white border-r border-surface-200 flex flex-col h-screen sticky top-0 overflow-hidden flex-shrink-0">
      <div class="p-6 border-b border-surface-200">
        <div class="flex items-center gap-3">
          <div
            class="w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-xl flex items-center justify-center shadow-md shadow-primary-500/30">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <div>
            <h1 class="font-bold text-gray-900 text-lg leading-tight">Seller Integration</h1>
            <span
              class="px-2 py-0.5 text-[10px] font-bold bg-primary-100 text-primary-700 rounded-full uppercase tracking-wide">SUPERADMIN</span>
          </div>
        </div>
      </div>
      <nav class="flex-1 overflow-y-auto p-4 space-y-0.5">
        <a href="../dashboard.html"
          class="sidebar-item flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all">
          <i class="fa-solid fa-home w-5"></i>Dashboard
        </a>
        <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest px-3 py-2">Data Management</div>
        <div>
          <button onclick="toggleDropdown('orders')"
            class="sidebar-item w-full flex items-center justify-between gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all">
            <div class="flex items-center gap-3"><i class="fa-solid fa-cart-shopping w-5"></i>Orders</div>
            <i id="orders-arrow" class="fa-solid fa-chevron-down text-gray-400"></i>
          </button>
          <div id="orders-dropdown" class="dropdown-content pl-11 space-y-0.5 mt-0.5">
            <a href="../data/orders/all-orders.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">All
              Orders</a>
            <a href="../data/orders/to-confirm-orders.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">Awaiting
              Confirmation</a>
            <a href="../data/orders/to-pack-orders.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">Ready
              to Pack</a>
            <a href="../data/orders/packed-orders.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">Packed
              Orders</a>
            <a href="../data/orders/returned-orders.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">Returned
              Orders</a>
            <a href="../data/orders/shopee-orders.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">Shopee</a>
            <a href="../data/orders/tiktok-orders.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">TikTok/Tokopedia</a>
          </div>
        </div>
        <a href="../data/data-upload.html"
          class="sidebar-item flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all">
          <i class="fa-solid fa-upload w-5"></i>Data Upload
        </a>
        <a href="../data/user.html"
          class="sidebar-item flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all">
          <i class="fa-solid fa-users w-5"></i>User Management
        </a>
        <div class="pt-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest px-3 py-2">Shipping &amp;
          Logistics</div>
        <a href="../shipping/print-label.html"
          class="sidebar-item flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all"><i
            class="fa-solid fa-print w-5"></i>Print Shipping Labels</a>
        <a href="../shipping/resi-checker.html"
          class="sidebar-item flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all"><i
            class="fa-solid fa-barcode w-5"></i>Resi Checker</a>
        <a href="../shipping/tracking-center.html"
          class="sidebar-item flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all"><i
            class="fa-solid fa-truck w-5"></i>Tracking Center</a>
        <div class="pt-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest px-3 py-2">Analytics &amp;
          Reports</div>
        <div>
          <button onclick="toggleDropdown('reports')"
            class="sidebar-item w-full flex items-center justify-between gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all">
            <div class="flex items-center gap-3"><i class="fa-solid fa-chart-pie w-5"></i>Reports</div>
            <i id="reports-arrow" class="fa-solid fa-chevron-down text-gray-400"></i>
          </button>
          <div id="reports-dropdown" class="dropdown-content pl-11 space-y-0.5 mt-0.5">
            <a href="reports/sales.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">Sales
              Report</a>
            <a href="reports/revenue.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">Revenue
              Report</a>
            <a href="reports/product.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">Product
              Performance</a>
          </div>
        </div>
        <a href="activity-logs.html"
          class="sidebar-item active flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium transition-all">
          <i class="fa-solid fa-clipboard-list w-5"></i>Activity Logs
        </a>
        <div class="pt-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest px-3 py-2">System Settings</div>
        <a href="../system/integration-setup.html"
          class="sidebar-item flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all"><i
            class="fa-solid fa-gear w-5"></i>Integration Setup</a>
        <div>
          <button onclick="toggleDropdown('market')"
            class="sidebar-item w-full flex items-center justify-between gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all">
            <div class="flex items-center gap-3"><i class="fa-solid fa-store w-5"></i>Market Integration</div>
            <i id="market-arrow" class="fa-solid fa-chevron-down text-gray-400"></i>
          </button>
          <div id="market-dropdown" class="dropdown-content pl-11 space-y-0.5 mt-0.5">
            <a href="../system/market/shopee-market.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">Shopee</a>
            <a href="../system/market/tiktok-market.html"
              class="block py-2 px-4 text-sm text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all">TikTok/Tokopedia</a>
          </div>
        </div>
        <a href="../system/api-documentation.html"
          class="sidebar-item flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all"><i
            class="fa-solid fa-code w-5"></i>API Documentation</a>
      </nav>
      <div class="p-4 border-t border-surface-200">
        <div class="flex items-center gap-3">
          <div
            class="w-9 h-9 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-bold text-sm shadow">
            SA</div>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-semibold text-gray-800 truncate">Super Admin</p>
            <p class="text-xs text-gray-400 truncate">admin@seller.id</p>
          </div>
          <button class="p-1.5 text-gray-400 hover:text-red-500 transition-colors" title="Logout">
            <i class="fa-solid fa-right-from-bracket text-sm"></i>
          </button>
        </div>
      </div>
    </aside>

    <main class="flex-1 overflow-y-auto">
      <header class="bg-white border-b border-surface-200 sticky top-0 z-10">
        <div class="flex items-center justify-between px-8 py-3 border-b border-surface-100">
          <nav class="flex items-center gap-2 text-sm text-slate-500">
            <span>Analytics & Reports</span>
            <svg class="w-4 h-4 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
            <span class="text-slate-900 font-semibold">Activity Logs</span>
          </nav>
          <div class="flex items-center gap-3">
            <div class="relative">
              <input type="text" placeholder="Search sellers, orders, logs…"
                class="w-64 pl-10 pr-4 py-2 bg-surface-100 border-0 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-400 focus:bg-white transition-all">
              <svg class="w-4 h-4 text-gray-400 absolute left-3.5 top-1/2 -translate-y-1/2" fill="none"
                stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
              </svg>
            </div>
            <div class="relative group">
              <button class="relative p-2.5 bg-surface-100 rounded-xl hover:bg-surface-200 transition-all">
                <svg class="w-5 h-5 text-gray-600 group-hover:text-primary-600 transition" fill="none"
                  stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                </svg>
                <span
                  class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center">5</span>
              </button>
              <span
                class="absolute top-full mt-2 left-1/2 -translate-x-1/2 whitespace-nowrap bg-gray-900 text-white text-xs px-2 py-1 rounded-md opacity-0 group-hover:opacity-100 transition pointer-events-none">Notifications</span>
            </div>
            <div class="relative group">
              <button class="p-2.5 bg-surface-100 rounded-xl hover:bg-surface-200 transition-all">
                <svg class="w-5 h-5 text-gray-600 group-hover:text-primary-600 transition" fill="none"
                  stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8.228 9a3 3 0 115.544 1c0 2-3 2-3 4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </button>
              <span
                class="absolute top-full mt-2 left-1/2 -translate-x-1/2 whitespace-nowrap bg-gray-900 text-white text-xs px-2 py-1 rounded-md opacity-0 group-hover:opacity-100 transition pointer-events-none">Help
                Center</span>
            </div>
            <div class="relative">
              <button onclick="toggleProfileDropdown()"
                class="flex items-center gap-2 p-1 pr-3 bg-surface-100 rounded-lg hover:bg-surface-200 transition-colors">
                <div
                  class="w-8 h-8 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-bold text-xs shadow">
                  AM</div>
                <div class="text-left">
                  <p class="text-sm font-semibold text-gray-900 leading-none">Admin Master</p>
                  <p class="text-[11px] text-primary-600 mt-0.5">Superadmin</p>
                </div>
                <svg class="w-3 h-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <div id="profile-dropdown"
                class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-surface-200 py-1.5 z-20">
                <a href="#" class="flex items-center gap-2.5 px-3 py-2 text-sm text-gray-700 hover:bg-surface-50">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                  </svg>My Profile
                </a>
                <a href="#" class="flex items-center gap-2.5 px-3 py-2 text-sm text-gray-700 hover:bg-surface-50">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>Settings
                </a>
                <hr class="my-1 border-surface-200">
                <a href="#" class="flex items-center gap-2.5 px-3 py-2 text-sm text-red-600 hover:bg-red-50">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                  </svg>Sign Out
                </a>
              </div>
            </div>
          </div>
        </div>
      </header>

      <div class="p-8 space-y-6">

        <div class="flex items-center justify-between">
          <div>
            <h2 class="text-2xl font-extrabold text-gray-900 tracking-tight flex items-center gap-2.5">
              <span
                class="w-9 h-9 rounded-xl flex items-center justify-center shadow shadow-primary-500/30 flex-shrink-0 bg-gradient-to-br from-primary-500 to-primary-700">
                <i class="fa-solid fa-clipboard-list text-white text-sm"></i>
              </span>
              Activity Logs
            </h2>
            <p class="text-slate-500 text-sm mt-1">Full audit trail of actions performed across the platform</p>
          </div>
          <button onclick="exportLogs()"
            class="flex items-center gap-2 px-4 py-2 text-white text-sm font-semibold rounded-xl bg-primary-600 hover:bg-primary-700 shadow shadow-primary-500/30 transition-all">
            <i class="fa-solid fa-download text-xs"></i>Export CSV
          </button>
        </div>

        <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
          <div class="bg-white rounded-2xl border border-surface-200 shadow-sm p-5">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-bold text-gray-400 uppercase tracking-wider">Total Events</span>
              <div class="w-8 h-8 rounded-lg bg-primary-50 flex items-center justify-center"><i
                  class="fa-solid fa-list-check text-primary-500 text-sm"></i></div>
            </div>
            <p class="text-3xl font-extrabold text-gray-900" id="stat-total">—</p>
          </div>
          <div class="bg-white rounded-2xl border border-surface-200 shadow-sm p-5">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-bold text-gray-400 uppercase tracking-wider">Success</span>
              <div class="w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center"><i
                  class="fa-solid fa-circle-check text-emerald-500 text-sm"></i></div>
            </div>
            <p class="text-3xl font-extrabold text-emerald-600" id="stat-success">—</p>
          </div>
          <div class="bg-white rounded-2xl border border-surface-200 shadow-sm p-5">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-bold text-gray-400 uppercase tracking-wider">Failed</span>
              <div class="w-8 h-8 rounded-lg bg-red-50 flex items-center justify-center"><i
                  class="fa-solid fa-circle-xmark text-red-400 text-sm"></i></div>
            </div>
            <p class="text-3xl font-extrabold text-red-500" id="stat-failed">—</p>
          </div>
          <div class="bg-white rounded-2xl border border-surface-200 shadow-sm p-5">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-bold text-gray-400 uppercase tracking-wider">Warnings</span>
              <div class="w-8 h-8 rounded-lg bg-amber-50 flex items-center justify-center"><i
                  class="fa-solid fa-triangle-exclamation text-amber-500 text-sm"></i></div>
            </div>
            <p class="text-3xl font-extrabold text-amber-600" id="stat-warning">—</p>
          </div>
        </div>

        <div class="bg-white rounded-2xl border border-surface-200 shadow-sm p-4 flex flex-wrap items-center gap-3">
          <div class="relative flex-1 min-w-[200px]">
            <i class="fa-solid fa-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs"></i>
            <input id="search-input" type="text" placeholder="Search actor, target, IP address…" oninput="filterTable()"
              class="w-full pl-8 pr-3 py-2 text-sm border border-surface-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 transition">
          </div>
          <select id="filter-action" onchange="filterTable()"
            class="px-3 py-2 text-sm border border-surface-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 bg-white text-gray-700">
            <option value="">All Actions</option>
            <option value="login">Login</option>
            <option value="logout">Logout</option>
            <option value="shop_authorize">Shop Authorize</option>
            <option value="token_refresh">Token Refresh</option>
            <option value="shop_deactivate">Shop Deactivate</option>
            <option value="order_sync">Order Sync</option>
            <option value="data_upload">Data Upload</option>
            <option value="settings_update">Settings Update</option>
          </select>
          <select id="filter-platform" onchange="filterTable()"
            class="px-3 py-2 text-sm border border-surface-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 bg-white text-gray-700">
            <option value="">All Platforms</option>
            <option value="shopee">Shopee</option>
            <option value="tiktok">TikTok</option>
            <option value="system">System</option>
          </select>
          <select id="filter-status" onchange="filterTable()"
            class="px-3 py-2 text-sm border border-surface-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 bg-white text-gray-700">
            <option value="">All Status</option>
            <option value="success">Success</option>
            <option value="failed">Failed</option>
            <option value="warning">Warning</option>
          </select>
          <button onclick="clearFilters()"
            class="px-3 py-2 text-xs font-semibold text-gray-500 hover:text-gray-700 bg-surface-100 hover:bg-surface-200 border border-surface-200 rounded-xl transition"></button>
          <i class="fa-solid fa-xmark mr-1"></i>Clear
          </button>
          <span id="result-count" class="ml-auto text-xs text-gray-400 font-medium"></span>
        </div>

        <div class="bg-white rounded-2xl border border-surface-200 shadow-sm overflow-hidden">
          <div class="overflow-x-auto">
            <table class="w-full text-sm min-w-[980px]">
              <thead>
                <tr class="border-b border-surface-200 bg-surface-50">
                  <th class="text-left px-5 py-3 text-[11px] font-bold text-gray-400 uppercase tracking-wider">Time</th>
                  <th class="text-left px-5 py-3 text-[11px] font-bold text-gray-400 uppercase tracking-wider">Actor
                  </th>
                  <th class="text-left px-5 py-3 text-[11px] font-bold text-gray-400 uppercase tracking-wider">Action
                  </th>
                  <th class="text-left px-5 py-3 text-[11px] font-bold text-gray-400 uppercase tracking-wider">Platform
                  </th>
                  <th class="text-left px-5 py-3 text-[11px] font-bold text-gray-400 uppercase tracking-wider">Target
                  </th>
                  <th class="text-left px-5 py-3 text-[11px] font-bold text-gray-400 uppercase tracking-wider">Status
                  </th>
                  <th class="text-left px-5 py-3 text-[11px] font-bold text-gray-400 uppercase tracking-wider">IP
                    Address</th>
                </tr>
              </thead>
              <tbody id="log-table-body" class="divide-y divide-surface-100">
              </tbody>
            </table>
          </div>
          <div id="empty-state" class="hidden py-16 text-center">
            <div class="w-14 h-14 rounded-2xl bg-surface-100 flex items-center justify-center mx-auto mb-3">
              <i class="fa-solid fa-clipboard text-gray-300 text-xl"></i>
            </div>
            <p class="text-sm font-semibold text-gray-500">No logs found</p>
            <p class="text-xs text-gray-400 mt-1">Try adjusting your filters</p>
          </div>
          <div class="flex items-center justify-between px-5 py-3 border-t border-surface-100">
            <span id="pagination-info" class="text-xs text-gray-400"></span>
            <div class="flex items-center gap-1" id="pagination-controls"></div>
          </div>
        </div>

      </div>

      <footer class="border-t border-surface-200 bg-white px-8 py-4 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div
            class="w-6 h-6 bg-gradient-to-br from-primary-500 to-primary-700 rounded-md flex items-center justify-center">
            <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <span class="text-xs text-gray-500">Seller Integration Platform <span
              class="font-semibold text-gray-700">v3.2.1</span></span>
        </div>
        <div class="flex items-center gap-4 text-xs text-gray-400">
          <span class="flex items-center gap-1.5"><span class="w-1.5 h-1.5 bg-emerald-500 rounded-full"></span>API:
            Operational</span>
          <span class="flex items-center gap-1.5"><span class="w-1.5 h-1.5 bg-emerald-500 rounded-full"></span>DB:
            Connected</span>
          <span class="flex items-center gap-1.5"><span class="w-1.5 h-1.5 bg-amber-400 rounded-full"></span>Queues: 3
            pending</span>
        </div>
      </footer>
    </main>
  </div>

  <div id="detailModal"
    class="fixed inset-0 z-50 hidden modal-overlay bg-black/40 flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto">
      <div class="flex items-center justify-between px-6 py-4 border-b border-surface-200">
        <div class="flex items-center gap-2.5">
          <div
            class="w-8 h-8 rounded-xl flex items-center justify-center bg-gradient-to-br from-primary-500 to-primary-700">
            <i class="fa-solid fa-clipboard-list text-white text-xs"></i>
          </div>
          <div>
            <h3 class="font-bold text-gray-900 text-sm" id="modal-title">Log Detail</h3>
            <p class="text-xs text-gray-400" id="modal-subtitle">—</p>
          </div>
        </div>
        <button onclick="closeModal()"
          class="p-1.5 text-gray-400 hover:text-gray-700 hover:bg-surface-100 rounded-lg transition">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
      <div class="px-6 py-5 space-y-3 text-sm">
        <div class="grid grid-cols-2 gap-3">
          <div class="bg-surface-50 rounded-xl p-3">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1">Log ID</p>
            <p class="font-mono text-xs text-gray-700 break-all" id="modal-id">—</p>
          </div>
          <div class="bg-surface-50 rounded-xl p-3">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1">Timestamp</p>
            <p class="text-xs text-gray-700" id="modal-timestamp">—</p>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="bg-surface-50 rounded-xl p-3">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1">Actor</p>
            <p class="text-sm font-semibold text-gray-800" id="modal-actor">—</p>
          </div>
          <div class="bg-surface-50 rounded-xl p-3">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1">Role</p>
            <p id="modal-role">—</p>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="bg-surface-50 rounded-xl p-3">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1">Action</p>
            <p id="modal-action">—</p>
          </div>
          <div class="bg-surface-50 rounded-xl p-3">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1">Platform</p>
            <p id="modal-platform">—</p>
          </div>
        </div>
        <div class="bg-surface-50 rounded-xl p-3">
          <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1">Target</p>
          <p class="text-sm text-gray-700" id="modal-target">—</p>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="bg-surface-50 rounded-xl p-3">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1">Status</p>
            <p id="modal-status">—</p>
          </div>
          <div class="bg-surface-50 rounded-xl p-3">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1">IP Address</p>
            <p class="font-mono text-xs text-gray-700" id="modal-ip">—</p>
          </div>
        </div>
        <div class="bg-surface-50 rounded-xl p-3">
          <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2">Metadata</p>
          <pre
            class="font-mono text-[11px] text-gray-600 whitespace-pre-wrap break-all leading-relaxed bg-white border border-surface-200 rounded-lg p-2.5"
            id="modal-metadata">—</pre>
        </div>
      </div>
      <div class="px-6 py-4 border-t border-surface-100 flex justify-end">
        <button onclick="closeModal()"
          class="px-4 py-2 text-sm font-semibold text-gray-600 bg-surface-100 hover:bg-surface-200 rounded-xl transition">Close</button>
      </div>
    </div>
  </div>

  <script>

    var now = new Date('2026-02-25T10:00:00Z');
    function minsAgo(m) { var d = new Date(now); d.setMinutes(d.getMinutes() - m); return d.toISOString(); }
    function hoursAgo(h) { var d = new Date(now); d.setHours(d.getHours() - h); return d.toISOString(); }
    function daysAgo(n) { var d = new Date(now); d.setDate(d.getDate() - n); return d.toISOString(); }

    var LOGS = [
      {
        id: 'log_a1b2c3d4e5f6',
        actor_name: 'Admin Master', actor_role: 'superadmin',
        action: 'token_refresh', platform: 'shopee',
        target: 'Pakan Ayam (Shop #220481920)',
        status: 'success', ip_address: '180.244.132.10',
        metadata: JSON.stringify({ shop_id: 220481920, token_expires_in: '24h', triggered_by: 'manual' }, null, 2),
        created_at: minsAgo(5),
      },
      {
        id: 'log_b2c3d4e5f6a1',
        actor_name: 'Admin Master', actor_role: 'superadmin',
        action: 'order_sync', platform: 'tiktok',
        target: 'Pakan Ayam Bebek Store (7183746291038475264)',
        status: 'success', ip_address: '180.244.132.10',
        metadata: JSON.stringify({ orders_fetched: 48, orders_new: 12, orders_updated: 36, duration_ms: 1240 }, null, 2),
        created_at: minsAgo(18),
      },
      {
        id: 'log_c3d4e5f6a1b2',
        actor_name: 'Admin Master', actor_role: 'superadmin',
        action: 'token_refresh', platform: 'tiktok',
        target: 'Adisatya ITC TikTok (7094827361058394112)',
        status: 'failed', ip_address: '180.244.132.10',
        metadata: JSON.stringify({ error: 'invalid_refresh_token', error_code: 'ERR_TOKEN_EXPIRED', shop_id: '7094827361058394112' }, null, 2),
        created_at: minsAgo(42),
      },
      {
        id: 'log_d4e5f6a1b2c3',
        actor_name: 'Budi Santoso', actor_role: 'admin',
        action: 'data_upload', platform: 'system',
        target: 'orders_feb2026_batch3.xlsx',
        status: 'success', ip_address: '103.21.45.88',
        metadata: JSON.stringify({ rows_processed: 320, rows_inserted: 318, rows_skipped: 2, file_size_kb: 144 }, null, 2),
        created_at: hoursAgo(1),
      },
      {
        id: 'log_e5f6a1b2c3d4',
        actor_name: 'Admin Master', actor_role: 'superadmin',
        action: 'shop_authorize', platform: 'shopee',
        target: 'Pakan Ayam Bebek (Shop #441029573)',
        status: 'success', ip_address: '180.244.132.10',
        metadata: JSON.stringify({ shop_id: 441029573, country: 'ID', oauth_state: 'completed' }, null, 2),
        created_at: hoursAgo(3),
      },
      {
        id: 'log_f6a1b2c3d4e5',
        actor_name: 'Budi Santoso', actor_role: 'admin',
        action: 'login', platform: 'system',
        target: null,
        status: 'success', ip_address: '103.21.45.88',
        metadata: JSON.stringify({ user_agent: 'Mozilla/5.0 (Macintosh)', session_id: 'sess_7xK9mP2nQ' }, null, 2),
        created_at: hoursAgo(4),
      },
      {
        id: 'log_a2b3c4d5e6f7',
        actor_name: 'Siti Rahayu', actor_role: 'admin',
        action: 'login', platform: 'system',
        target: null,
        status: 'failed', ip_address: '114.122.77.33',
        metadata: JSON.stringify({ reason: 'wrong_password', attempts: 3, locked_until: null }, null, 2),
        created_at: hoursAgo(5),
      },
      {
        id: 'log_b3c4d5e6f7a2',
        actor_name: 'Admin Master', actor_role: 'superadmin',
        action: 'settings_update', platform: 'system',
        target: 'Shopee Integration Config',
        status: 'success', ip_address: '180.244.132.10',
        metadata: JSON.stringify({ changed_fields: ['partner_key', 'redirect_url'], module: 'shopee_integration' }, null, 2),
        created_at: hoursAgo(7),
      },
      {
        id: 'log_c4d5e6f7a2b3',
        actor_name: 'Admin Master', actor_role: 'superadmin',
        action: 'order_sync', platform: 'shopee',
        target: 'Adisatya ITC (Shop #774928301)',
        status: 'warning', ip_address: '180.244.132.10',
        metadata: JSON.stringify({ orders_fetched: 0, warning: 'shop_token_expired', shop_id: 774928301 }, null, 2),
        created_at: hoursAgo(10),
      },
      {
        id: 'log_d5e6f7a2b3c4',
        actor_name: 'Admin Master', actor_role: 'superadmin',
        action: 'shop_deactivate', platform: 'shopee',
        target: 'Adisatya ITC (Shop #774928301)',
        status: 'success', ip_address: '180.244.132.10',
        metadata: JSON.stringify({ reason: 'token_expired_not_refreshable', shop_id: 774928301 }, null, 2),
        created_at: hoursAgo(10),
      },
      {
        id: 'log_e6f7a2b3c4d5',
        actor_name: 'Budi Santoso', actor_role: 'admin',
        action: 'data_upload', platform: 'system',
        target: 'orders_feb2026_batch2.xlsx',
        status: 'warning', ip_address: '103.21.45.88',
        metadata: JSON.stringify({ rows_processed: 210, rows_inserted: 198, rows_skipped: 12, warning: '12 duplicate order IDs skipped' }, null, 2),
        created_at: daysAgo(1),
      },
      {
        id: 'log_f7a2b3c4d5e6',
        actor_name: 'Admin Master', actor_role: 'superadmin',
        action: 'shop_authorize', platform: 'tiktok',
        target: 'TikTok MY Shop (7265839104728361984)',
        status: 'success', ip_address: '180.244.132.10',
        metadata: JSON.stringify({ shop_id: '7265839104728361984', region: 'MY', shop_cipher: 'ROW_mNoPqRsTuVw…', oauth_state: 'completed' }, null, 2),
        created_at: daysAgo(1),
      },
      {
        id: 'log_a3b4c5d6e7f8',
        actor_name: 'Admin Master', actor_role: 'superadmin',
        action: 'logout', platform: 'system',
        target: null,
        status: 'success', ip_address: '180.244.132.10',
        metadata: JSON.stringify({ session_duration_min: 142 }, null, 2),
        created_at: daysAgo(2),
      },
      {
        id: 'log_b4c5d6e7f8a3',
        actor_name: 'Budi Santoso', actor_role: 'admin',
        action: 'order_sync', platform: 'tiktok',
        target: 'Pakan Ayam Official (7201938475610234881)',
        status: 'failed', ip_address: '103.21.45.88',
        metadata: JSON.stringify({ error: 'network_timeout', retries: 3, shop_id: '7201938475610234881' }, null, 2),
        created_at: daysAgo(2),
      },
      {
        id: 'log_c5d6e7f8a3b4',
        actor_name: 'Admin Master', actor_role: 'superadmin',
        action: 'settings_update', platform: 'system',
        target: 'TikTok Integration Config',
        status: 'success', ip_address: '180.244.132.10',
        metadata: JSON.stringify({ changed_fields: ['app_secret', 'redirect_url'], module: 'tiktok_integration' }, null, 2),
        created_at: daysAgo(3),
      },
    ];

    var ACTION_LABELS = {
      login: { label: 'Login', icon: 'fa-right-to-bracket', color: 'text-primary-600 bg-primary-50 border-primary-200' },
      logout: { label: 'Logout', icon: 'fa-right-from-bracket', color: 'text-gray-500 bg-gray-50 border-gray-200' },
      shop_authorize: { label: 'Shop Authorize', icon: 'fa-plug', color: 'text-emerald-700 bg-emerald-50 border-emerald-200' },
      token_refresh: { label: 'Token Refresh', icon: 'fa-rotate', color: 'text-cyan-700 bg-cyan-50 border-cyan-200' },
      shop_deactivate: { label: 'Shop Deactivate', icon: 'fa-store-slash', color: 'text-red-600 bg-red-50 border-red-200' },
      order_sync: { label: 'Order Sync', icon: 'fa-arrows-rotate', color: 'text-violet-700 bg-violet-50 border-violet-200' },
      data_upload: { label: 'Data Upload', icon: 'fa-upload', color: 'text-indigo-700 bg-indigo-50 border-indigo-200' },
      settings_update: { label: 'Settings Update', icon: 'fa-gear', color: 'text-amber-700 bg-amber-50 border-amber-200' },
    };

    var PLATFORM_BADGES = {
      shopee: '<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold bg-orange-50 text-orange-600 border border-orange-200"><i class="fa-solid fa-shopping-bag text-[8px]"></i>Shopee</span>',
      tiktok: '<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold bg-slate-100 text-slate-700 border border-slate-200"><i class="fa-brands fa-tiktok text-[8px]"></i>TikTok</span>',
      system: '<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold bg-primary-50 text-primary-700 border border-primary-200"><i class="fa-solid fa-server text-[8px]"></i>System</span>',
    };

    function fmtDate(iso) {
      if (!iso) return '—';
      var d = new Date(iso);
      return d.toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' })
        + ' ' + d.toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
    }

    function timeAgo(iso) {
      var diff = (now - new Date(iso)) / 1000;
      if (diff < 60) return Math.floor(diff) + 's ago';
      if (diff < 3600) return Math.floor(diff / 60) + 'm ago';
      if (diff < 86400) return Math.floor(diff / 3600) + 'h ago';
      return Math.floor(diff / 86400) + 'd ago';
    }

    function statusBadge(s) {
      if (s === 'success') return '<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold bg-emerald-50 text-emerald-700 border border-emerald-200"><i class="fa-solid fa-circle-check text-[8px]"></i>Success</span>';
      if (s === 'failed') return '<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold bg-red-50 text-red-600 border border-red-200"><i class="fa-solid fa-circle-xmark text-[8px]"></i>Failed</span>';
      return '<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold bg-amber-50 text-amber-700 border border-amber-200"><i class="fa-solid fa-triangle-exclamation text-[8px]"></i>Warning</span>';
    }

    function actionBadge(action) {
      var cfg = ACTION_LABELS[action] || { label: action, icon: 'fa-circle', color: 'text-gray-500 bg-gray-50 border-gray-200' };
      return '<span class="inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[10px] font-bold border ' + cfg.color + '"><i class="fa-solid ' + cfg.icon + ' text-[8px]"></i>' + cfg.label + '</span>';
    }

    function roleBadge(role) {
      if (role === 'superadmin') return '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold bg-primary-50 text-primary-700 border border-primary-200">Superadmin</span>';
      return '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold bg-surface-100 text-gray-600 border border-surface-200">Admin</span>';
    }

    function updateStats() {
      document.getElementById('stat-total').textContent = LOGS.length;
      document.getElementById('stat-success').textContent = LOGS.filter(function (l) { return l.status === 'success'; }).length;
      document.getElementById('stat-failed').textContent = LOGS.filter(function (l) { return l.status === 'failed'; }).length;
      document.getElementById('stat-warning').textContent = LOGS.filter(function (l) { return l.status === 'warning'; }).length;
    }

    var PAGE_SIZE = 12;
    var currentPage = 1;
    var filteredData = LOGS.slice();

    function renderTable() {
      var start = (currentPage - 1) * PAGE_SIZE;
      var page = filteredData.slice(start, start + PAGE_SIZE);
      var tbody = document.getElementById('log-table-body');
      var empty = document.getElementById('empty-state');

      if (filteredData.length === 0) {
        tbody.innerHTML = '';
        empty.classList.remove('hidden');
      } else {
        empty.classList.add('hidden');
        tbody.innerHTML = page.map(function (l) {
          var platformHtml = PLATFORM_BADGES[l.platform] || '<span class="text-gray-400 text-xs">—</span>';
          var targetHtml = l.target
            ? '<span class="text-gray-700 text-xs">' + l.target + '</span>'
            : '<span class="text-gray-400 text-xs italic">—</span>';
          return [
            '<tr class="table-row transition-colors" onclick="openDetailModal(\'' + l.id + '\')">',
            '  <td class="px-5 py-3.5 whitespace-nowrap">',
            '    <p class="text-xs font-semibold text-gray-800">' + timeAgo(l.created_at) + '</p>',
            '    <p class="text-[10px] text-gray-400 mt-0.5">' + fmtDate(l.created_at) + '</p>',
            '  </td>',
            '  <td class="px-5 py-3.5">',
            '    <p class="text-xs font-semibold text-gray-800">' + l.actor_name + '</p>',
            '    <div class="mt-0.5">' + roleBadge(l.actor_role) + '</div>',
            '  </td>',
            '  <td class="px-5 py-3.5 whitespace-nowrap">' + actionBadge(l.action) + '</td>',
            '  <td class="px-5 py-3.5 whitespace-nowrap">' + platformHtml + '</td>',
            '  <td class="px-5 py-3.5 max-w-[200px] truncate">' + targetHtml + '</td>',
            '  <td class="px-5 py-3.5 whitespace-nowrap">' + statusBadge(l.status) + '</td>',
            '  <td class="px-5 py-3.5"><span class="font-mono text-xs text-gray-500">' + (l.ip_address || '—') + '</span></td>',
            '</tr>',
          ].join('\n');
        }).join('');
      }

      var total = filteredData.length;
      var showing = Math.min(start + PAGE_SIZE, total);
      document.getElementById('pagination-info').textContent =
        total === 0 ? '' : 'Showing ' + (start + 1) + '–' + showing + ' of ' + total + ' events';
      document.getElementById('result-count').textContent =
        total + ' event' + (total !== 1 ? 's' : '');

      var totalPages = Math.ceil(total / PAGE_SIZE);
      var ctrl = document.getElementById('pagination-controls');
      ctrl.innerHTML = '';
      for (var p = 1; p <= totalPages; p++) {
        var btn = document.createElement('button');
        btn.textContent = p;
        btn.className = 'w-8 h-8 rounded-lg text-xs font-semibold transition ' +
          (p === currentPage ? 'bg-primary-500 text-white' : 'text-gray-500 bg-surface-100 hover:bg-surface-200');
        btn.onclick = (function (pg) { return function () { currentPage = pg; renderTable(); }; })(p);
        ctrl.appendChild(btn);
      }
    }

    function filterTable() {
      var q = document.getElementById('search-input').value.toLowerCase();
      var action = document.getElementById('filter-action').value;
      var platform = document.getElementById('filter-platform').value;
      var status = document.getElementById('filter-status').value;

      filteredData = LOGS.filter(function (l) {
        var matchQ = !q
          || l.actor_name.toLowerCase().includes(q)
          || (l.target && l.target.toLowerCase().includes(q))
          || (l.ip_address && l.ip_address.includes(q))
          || l.id.toLowerCase().includes(q);
        var matchAction = !action || l.action === action;
        var matchPlatform = !platform || l.platform === platform;
        var matchStatus = !status || l.status === status;
        return matchQ && matchAction && matchPlatform && matchStatus;
      });
      currentPage = 1;
      renderTable();
    }

    function clearFilters() {
      document.getElementById('search-input').value = '';
      document.getElementById('filter-action').value = '';
      document.getElementById('filter-platform').value = '';
      document.getElementById('filter-status').value = '';
      filterTable();
    }

    function openDetailModal(id) {
      var l = LOGS.find(function (x) { return x.id === id; });
      if (!l) return;
      var cfg = ACTION_LABELS[l.action] || { label: l.action };
      document.getElementById('modal-title').textContent = cfg.label;
      document.getElementById('modal-subtitle').textContent = 'Log ID: ' + l.id;
      document.getElementById('modal-id').textContent = l.id;
      document.getElementById('modal-timestamp').textContent = fmtDate(l.created_at);
      document.getElementById('modal-actor').textContent = l.actor_name;
      document.getElementById('modal-role').innerHTML = roleBadge(l.actor_role);
      document.getElementById('modal-action').innerHTML = actionBadge(l.action);
      document.getElementById('modal-platform').innerHTML = PLATFORM_BADGES[l.platform] || '<span class="text-gray-400 text-xs">—</span>';
      document.getElementById('modal-target').textContent = l.target || '—';
      document.getElementById('modal-status').innerHTML = statusBadge(l.status);
      document.getElementById('modal-ip').textContent = l.ip_address || '—';
      document.getElementById('modal-metadata').textContent = l.metadata || '—';
      document.getElementById('detailModal').classList.remove('hidden');
    }

    function closeModal() {
      document.getElementById('detailModal').classList.add('hidden');
    }

    function exportLogs() {
      alert('Export CSV: connect to real API endpoint when backend is ready.');
    }

    function toggleProfileDropdown() {
      document.getElementById('profile-dropdown').classList.toggle('hidden');
    }

    function toggleDropdown(name) {
      var dropdown = document.getElementById(name + '-dropdown');
      var arrow = document.getElementById(name + '-arrow');
      if (!dropdown) return;
      var isOpen = dropdown.classList.contains('open');
      dropdown.classList.toggle('open', !isOpen);
      if (arrow) {
        arrow.classList.toggle('fa-chevron-down', isOpen);
        arrow.classList.toggle('fa-chevron-up', !isOpen);
      }
    }

    document.getElementById('detailModal').addEventListener('click', function (e) {
      if (e.target === this) closeModal();
    });

    updateStats();
    filterTable();
  </script>
</body>

</html>